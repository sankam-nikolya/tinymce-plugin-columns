!function(t){"use strict";function n(t){if($(t).hasClass("row"))return!0}function e(t,n){var e=this;e.editor=t,e.url=n,e.data={column:null,classes:[]};this.generalItems=[{type:"container",layout:"grid",spacing:20,columns:3,align:"center",items:[{type:"label",text:"Screen Size"},{type:"label",text:"Column Width"},{type:"label",text:"Column Offset"}]},{type:"container",layout:"grid",spacing:20,columns:3,align:"center",items:[{type:"label",text:"xs",minWidth:65,minHeight:23,style:"background-image: url("+n+"/img/icons/xs.svg); background-repeat: no-repeat; background-position: right;"},{type:"ListBox",name:"xs-width",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-xs-"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-xs-")>=0});t.length>0&&this.value(t[0])}},{type:"ListBox",name:"xs-offset",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-xs-offset"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-xs-offset-")>=0});t.length>0&&this.value(t[0])}}]},{type:"container",layout:"grid",spacing:20,columns:3,align:"center",items:[{type:"label",text:"sm",minWidth:65,minHeight:23,style:"background-image: url("+n+"/img/icons/sm.svg); background-repeat: no-repeat; background-position: right;"},{type:"ListBox",name:"sm-width",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-sm-"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-sm-")>=0});t.length>0&&this.value(t[0])}},{type:"ListBox",name:"sm-offset",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-sm-offset-"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-sm-offset-")>=0});t.length>0&&this.value(t[0])}}]},{type:"container",layout:"grid",spacing:20,columns:3,align:"center",items:[{type:"label",text:"md",minWidth:65,minHeight:23,style:"background-image: url("+n+"/img/icons/md.svg); background-repeat: no-repeat; background-position: right;"},{type:"ListBox",name:"md-width",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-md-"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-md-")>=0});t.length>0&&this.value(t[0])}},{type:"ListBox",name:"md-offset",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-md-offset-"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-md-offset-")>=0});t.length>0&&this.value(t[0])}}]},{type:"container",layout:"grid",spacing:20,columns:3,align:"center",items:[{type:"label",text:"lg",minWidth:65,minHeight:23,style:"background-image: url("+n+"/img/icons/lg.svg); background-repeat: no-repeat; background-position: right;"},{type:"ListBox",name:"lg-width",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-lg-"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-lg-")>=0});t.length>0&&this.value(t[0])}},{type:"ListBox",name:"lg-offset",minWidth:65,values:[{text:"None",value:"none"}].concat([1,2,3,4,5,6,7,8,9,10,11,12].map(function(t){return{text:t,value:"col-lg-offset-"+t}})),onPostRender:function(){var t=jQuery.grep(e.data.classes,function(t){return t.indexOf("col-lg-offset-")>=0});t.length>0&&this.value(t[0])}}]}],this.init(t,n)}e.prototype.showDialog=function(){var t=this.editor,n=this.data;this.editor.windowManager.open({title:"Adjust Column Sizing",data:this.data,body:this.generalItems,onsubmit:function(e){var o=[];$(n.column).removeClass(function(t,n){return(n.match(/(^|\s)col-\S+/g)||[]).join(" ")}),$.each(e.data,function(t,e){"none"!=e&&($(n.column).addClass(e),o.push(e))}),t.undoManager.add(),n.classes=o}})},e.prototype.addToolbars=function(){var t=this.editor.settings.table_toolbar;""!==t&&t!==!1&&(t||(t="bscolumns"),this.editor.addContextToolbar(n,t))},e.prototype.init=function(t,n){var e=this,o=null;t.addButton("bscolumns",{image:n+"/img/icons/column-settings.svg",tooltip:"Edit Column Sizing",onclick:function(){e.showDialog()}}),t.addMenuItem("bscolumns",{image:n+"/img/icons/column-settings.svg",text:"Column",onclick:function(){e.showDialog()},context:"tools",onPostRender:function(){o=this,o.disabled(!0)}}),t.on("NodeChange",function(t){if(t.selectionChange){var n=!0;$.each(t.parents,function(o,a){if("DIV"===a.nodeName&&$(t.parents[o+1]).hasClass("row"))return e.data.classes=$(a).attr("class").split(" "),e.data.column=$(a),n=!1,!1}),o&&o.disabled(n)}}),e.addToolbars()},t.create("tinymce.plugins.BSColumns",{init:function(t,n){return new e(t,n)},getInfo:function(){return{longname:"Bootstrap Columns - adds tools to manage bootstrap columns.",author:"BrandExtract",authorurl:"http://www.brandextract.com",version:"0.1.0"}}}),t.PluginManager.add("bscolumns",t.plugins.BSColumns)}(window.tinymce);
//# sourceMappingURL=plugin.js.map